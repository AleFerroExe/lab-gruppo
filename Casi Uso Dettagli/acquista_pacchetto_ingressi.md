| **Nome del Caso d'Uso**              | Acquistare un pacchetto ingressi                                 |
|--------------------------------------|----------------------------------------------------|
| **Portata**                          | Il sistema di gestione della palestra permette a clienti o visitatori di acquistare un pacchetto ingressi. |
| **Livello**                          | Obiettivo utente                                   |
| **Attore Primario**                  | Cliente o Visitatore                               |
| **Parti Interessate e Interessi**    | - **Cliente o Visitatore**: desidera acquistare un pacchetto ingressi.<br> - **Sistema**: gestisce e registra l’acquisto dei pacchetti. |
| **Pre-condizioni**                   | - Il **cliente** deve essere **iscritto** alla palestra e avere una **tessera valida**.<br> - Il **visitatore** deve avere completato l'inserimento dei dati per l'iscrizione ed effettuare il pagamento contestualmente all'acquisto del pacchetto. |
| **Garanzia di Successo**             | - Il cliente o visitatore ha acquistato con successo un pacchetto ingressi.<br> - Il sistema ha registrato l'acquisto e aggiornato lo stato del visitatore (se necessario) a cliente. |
| **Scenario Principale di Successo**  | 1. Il cliente accede al sistema tramite la tessera **oppure** il visitatore accede come nuovo utente e inserisce i dati richiesti per l'iscrizione.<br> 2. L'utente seleziona il pacchetto ingressi da acquistare.<br> 3. Il sistema mostra i pacchetti disponibili e il relativo prezzo.<br> 4. L'utente conferma l'acquisto e procede al pagamento.<br> 5. Il sistema registra l'acquisto e, se si tratta di un visitatore, lo trasforma in cliente e genera la tessera. <br> 6. Il sistema conferma l’avvenuto acquisto. |
| **Estensioni**                       | - **Pagamento fallito**: Il sistema notifica l'errore e consente un nuovo tentativo.<br> - **Pacchetto non disponibile**: Il sistema propone pacchetti alternativi.<br> - **Visitatore con dati incompleti**: Il sistema richiede il completamento dei dati prima di procedere. |
| **Requisiti speciali**               | - Il sistema deve verificare che il cliente o visitatore abbia fondi sufficienti.<br> - Il sistema deve trasformare automaticamente un visitatore in cliente dopo l'acquisto.<br> - Il sistema deve essere accessibile in tempo reale da dispositivi mobili e desktop. |
| **Elenco delle variabili tecnologiche e dei dati** | - **Formato di ingresso**: Per il cliente, identificativo tessera; per il visitatore, dati personali richiesti per l'iscrizione.<br> - **Formato di uscita**: Conferma dell'acquisto, dettagli del pacchetto, generazione tessera (per i nuovi clienti). |
| **Frequenza di ripetizione**         | L’acquisto può essere effettuato ogni volta che l’utente desidera un nuovo pacchetto. |
| **Varie**                            | - Il sistema deve garantire la tracciabilità e la sicurezza delle transazioni anche in presenza di errori. |
